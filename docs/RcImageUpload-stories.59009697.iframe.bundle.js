"use strict";(self.webpackChunkweb_components_repo=self.webpackChunkweb_components_repo||[]).push([[750],{"./node_modules/.pnpm/@gaopeng123+utils.object@1.1.11/node_modules/@gaopeng123/utils.object/dist/utils.object.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{assignDeep:()=>assignDeep,assignDeepMergeArray:()=>assignDeepMergeArray,assignDeepNotIncludedArray:()=>assignDeepNotIncludedArray,assignIf:()=>assignIf,assignIfByOrder:()=>assignIfByOrder,clearEmpty:()=>clearEmpty,clone:()=>clone,cloneAllArray:()=>cloneAllArray,cloneAllItems:()=>cloneAllItems,cloneAllObject:()=>cloneAllObject,copyText:()=>copyText,filterObject:()=>filterObject,forEachObject:()=>forEachObject,getStyle:()=>getStyle,isVisibleInViewport:()=>isVisibleInViewport,length:()=>length,levitatingBall:()=>levitatingBall,mapObject:()=>mapObject,mousePosition:()=>mousePosition,observeViewport:()=>observeViewport,parentByExpected:()=>parentByExpected,validatesCssValue:()=>validatesCssValue});var _gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.types@1.1.10/node_modules/@gaopeng123/utils.types/dist/utils.types.esm.js"),_gaopeng123_utils_function__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.function@1.1.11/node_modules/@gaopeng123/utils.function/dist/utils.function.esm.js"),clone=function clone(val){return(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isArray)(val)||(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(val)?JSON.parse(JSON.stringify(val)):val},cloneAllObject=function cloneAllObject(val){var item,obj={};for(var k in val)item=val[k],(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isArray)(item)?obj[k]=cloneAllArray(item):(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(item)?obj[k]=cloneAllItems(item):obj[k]=item;return item},cloneAllArray=function cloneAllArray(val){for(var arr=Array.prototype.slice.call(val),newArr=[],len=arr.length,i=0;i<len;i++){var item=arr[i];(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isArray)(item)?newArr.push(cloneAllArray(item)):(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(item)?newArr.push(cloneAllObject(item)):newArr.push(val)}return newArr},cloneAllItems=function cloneAllItems(val){return(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isArray)(val)?cloneAllArray(val):(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(val)&&cloneAllObject(val),val},mousePosition=function mousePosition(event){return event?event.pageX||event.pageY?{x:event.pageX,y:event.pageY}:{x:event.clientX+document.body.scrollLeft-document.body.clientLeft,y:event.clientY+document.body.scrollTop-document.body.clientTop}:{x:0,y:0}},getStyle=function getStyle(el,styleName){if((0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isElement)(el)){if(el.currentStyle)return el.currentStyle[styleName];var computed=getComputedStyle(el,null);return computed[styleName]||(computed.getPropertyValue?computed.getPropertyValue(styleName):"")}return""},parentByExpected=function parentByExpected(dom,expected){return"BODY"===dom.tagName||(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isFunction)(expected)&&expected(dom)?dom:parentByExpected(dom.parentNode||dom.parentElement,expected)},copyText=function copyText(span){return new Promise((function(resolve,reject){var text;if((0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isString)(span))text=span;else{if(!(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isElement)(span))return void resolve({status:!1,message:"请检查参数"+span});text=span.innerText}if(!(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(text)){var input=document.createElement("textarea");document.body.appendChild(input),input.innerHTML=text,input.setAttribute("code","1"),input.select(),document.execCommand("Copy")&&(console.log("复制成功"),resolve({status:!0,message:"复制成功"}));var list=document.getElementsByTagName("textarea");Array.prototype.slice.call(list).forEach((function(item){item.getAttribute("code")&&document.body.removeChild(item)}))}}))},isVisibleInViewport=function isVisibleInViewport(el,partiallyVisible){void 0===partiallyVisible&&(partiallyVisible=!0);var _el$getBoundingClient=el.getBoundingClientRect(),top=_el$getBoundingClient.top,left=_el$getBoundingClient.left,bottom=_el$getBoundingClient.bottom,right=_el$getBoundingClient.right,_window=window,innerHeight=_window.innerHeight,innerWidth=_window.innerWidth;return partiallyVisible?(top>0&&top<innerHeight||bottom>0&&bottom<innerHeight)&&(left>0&&left<innerWidth||right>0&&right<innerWidth):top>=0&&left>=0&&bottom<=innerHeight&&right<=innerWidth},observeViewport=function observeViewport(observeDomList,observeCallBack,wait,options){var elList=[],list=Array.from(observeDomList),debounceFn=(0,_gaopeng123_utils_function__WEBPACK_IMPORTED_MODULE_1__.debounce)((function(){(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isFunction)(observeCallBack)&&observeCallBack(elList),elList=[]}),wait,options),IO=new IntersectionObserver((function(ioList){ioList.forEach((function(ioEvent){var el=ioEvent.target,intersectionRatio=ioEvent.intersectionRatio;intersectionRatio>0&&intersectionRatio<=1&&elList.push(el)})),debounceFn()}));list.forEach((function(item){IO.observe(item)}))},validatesCssValue=function validatesCssValue(key,value){for(var prefix=["-o-","-ms-","-moz-","-webkit-",""],prefixValue=[],i=0;i<prefix.length;i++)prefixValue.push(prefix[i]+value);for(var eleStyle=document.createElement("div").style,j=0;j<prefixValue.length;j++)eleStyle[key]=prefixValue[j];return eleStyle[key]},levitatingBall=function levitatingBall(config,onClick){var _Object$assign=Object.assign({minTop:0,minBottom:0,minLeft:0,minRight:0},config),el=_Object$assign.el,up_down=_Object$assign.up_down,left_right=_Object$assign.left_right,style=_Object$assign.style,minTop=_Object$assign.minTop,minBottom=_Object$assign.minBottom,minLeft=_Object$assign.minLeft,minRight=_Object$assign.minRight,persistenceKey=_Object$assign.persistenceKey,persistenceType=_Object$assign.persistenceType;if(el){var startEvt,moveEvt,endEvt,_persistenceType=persistenceType||"sessionStorage";"ontouchstart"in window?(startEvt="touchstart",moveEvt="touchmove",endEvt="touchend"):(startEvt="mousedown",moveEvt="mousemove",endEvt="mouseup");var dragEl=(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isString)(el)?document.querySelector(el):el;if(dragEl.style.position="fixed",dragEl.style.cursor="move",dragEl.style.transition="all 0.08s",dragEl.style["user-select"]="none",style)for(var styleKey in style)dragEl.style[styleKey]=style[styleKey];if(persistenceKey){var cacheConfig=window[_persistenceType].getItem(persistenceKey);if(cacheConfig&&(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isJSON)(cacheConfig)){var _JSON$parse=JSON.parse(cacheConfig),_left=_JSON$parse.left,_top=_JSON$parse.top;dragEl.style.top=_top+"px",dragEl.style.left=_left+"px"}}var disX,disY,left,top,starX,starY,isClick=!0,moveFun=(0,_gaopeng123_utils_function__WEBPACK_IMPORTED_MODULE_1__.debounce)((function(){persistenceKey&&window[_persistenceType].setItem(persistenceKey,JSON.stringify({left,top}))}),200,{notDebounce:function moving(event){var e=event||window.event;(Math.abs(starX-(e.touches?e.touches[0].clientX:e.clientX))>20||Math.abs(starY-(e.touches?e.touches[0].clientY:e.clientY))>20)&&(isClick=!1),left=(e.touches?e.touches[0].clientX:e.clientX)-disX,top=(e.touches?e.touches[0].clientY:e.clientY)-disY,left<minLeft?left=minLeft:left>document.documentElement.clientWidth-dragEl.offsetWidth-minRight&&(left=document.documentElement.clientWidth-dragEl.offsetWidth-minRight),top<minTop?top=minTop:top>document.documentElement.clientHeight-dragEl.offsetHeight-minBottom&&(top=document.documentElement.clientHeight-dragEl.offsetHeight-minBottom),!1!==up_down&&(dragEl.style.top=top+"px"),!1!==left_right&&(dragEl.style.left=left+"px")}});dragEl.addEventListener(startEvt,(function(event){event.preventDefault();var e=event||window.event;isClick=!0,starX=e.touches?e.touches[0].clientX:e.clientX,starY=e.touches?e.touches[0].clientY:e.clientY,disX=starX-dragEl.offsetLeft,disY=starY-dragEl.offsetTop,document.addEventListener(moveEvt,moveFun),document.addEventListener(endEvt,endFun)}));var endFun=function endFun(e){document.removeEventListener(moveEvt,moveFun),document.removeEventListener(endEvt,endFun),isClick&&(null==onClick||onClick(e))};return{removeEventListener:function removeEventListener(){document.removeEventListener(moveEvt,moveFun),document.removeEventListener(endEvt,endFun)}}}return{removeEventListener:function removeEventListener(){}}},mergeArray=function mergeArray(input){return input.map(mergeValue)},mergeObject=function mergeObject(source){var output={};for(var key in source)source.hasOwnProperty(key)&&(output[key]=mergeValue(source[key]));return output},mergeValue=function mergeValue(value){return(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(value)?mergeObject(value):(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isArray)(value)?mergeArray(value):value},deepMerge=function deepMerge(target,sources,options){for(var _options={arrayHandle:(null==options?void 0:options.arrayHandle)||"replace"},output=target||{},oIndex=0;oIndex<sources.length;oIndex++)for(var source=sources[oIndex],keys=Object.keys(source),kIndex=0;kIndex<keys.length;kIndex++){var key=keys[kIndex],sourceValue=source[key],targetValue=output[key];if((0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(sourceValue))if((0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(targetValue))output[key]=mergeValue(sourceValue);else{var existingValue=(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(targetValue)?targetValue:{};output[key]=deepMerge({},[existingValue,mergeValue(sourceValue)],_options)}else if((0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isArray)(sourceValue))if((0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isArray)(targetValue))if("cover"===_options.arrayHandle)output[key]=targetValue;else{var newValue=mergeArray(sourceValue);output[key]="merge"===_options.arrayHandle?output[key].concat(newValue):newValue}else output[key]=mergeArray(sourceValue);else output[key]=sourceValue}return output},assignDeep=function assignDeep(target){for(var _len=arguments.length,source=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)source[_key-1]=arguments[_key];return deepMerge(target,source)},assignDeepNotIncludedArray=function assignDeepNotIncludedArray(target){for(var _len2=arguments.length,source=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)source[_key2-1]=arguments[_key2];return deepMerge(target,source,{arrayHandle:"cover"})},assignDeepMergeArray=function assignDeepMergeArray(target){for(var _len3=arguments.length,source=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)source[_key3-1]=arguments[_key3];return deepMerge(target,source,{arrayHandle:"merge"})},assignIfByOrder=function assignIfByOrder(order,target){for(var _target=Object.assign({},target),_len4=arguments.length,source=new Array(_len4>2?_len4-2:0),_key4=2;_key4<_len4;_key4++)source[_key4-2]=arguments[_key4];return null==source||source.forEach((function(sourceItem){var property;if((0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(target)&&(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(sourceItem))for(property in sourceItem)order(_target[property])&&(_target[property]=sourceItem[property])})),_target},assignIf=function assignIf(target){for(var _len5=arguments.length,source=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++)source[_key5-1]=arguments[_key5];return assignIfByOrder.apply(void 0,[function(v){return(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isNull)(v)||(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(v)},target].concat(source))},filterObject=function filterObject(obj,callback){var index=0,newObj=Object.assign({},obj);for(var key in newObj){if(callback)!1===callback(newObj[key],index,obj)&&delete newObj[key];index++}return newObj},forEachObject=function forEachObject(obj,callback){var index=0,newObj=Object.assign({},obj);for(var key in newObj){if(callback){var callBackVal=callback(newObj[key],index,obj);newObj[key]=callBackVal}index++}return newObj},mapObject=function mapObject(obj,callback){var index=0;for(var key in obj){if(callback){var callBackVal=callback(obj[key],index,obj);obj[key]=callBackVal}index++}return obj},length=function length(val){return(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isObject)(val)?Object.keys(val).length:(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isArray)(val)||(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isString)(val)?val.length:0};function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var clearEmpty=function clearEmpty(origin){return Object.keys(origin).reduce((function(res,key){var _extends2;return[null,void 0,""].includes(origin[key])?res:_extends({},res,((_extends2={})[key]=origin[key],_extends2))}),{})}},"./stories/RcImageUpload.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>RcImageUpload_stories,props:()=>props});var react=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),jsx_runtime=(__webpack_require__("./packages/image-upload/dist/index.js"),__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"));const RcImageUpload=props=>{const{id,width,height,pictureWidth,pictureHeight,preventPreview,listType,action,maxCount,multiple,accept,fileList,onUploadChange,onAfterUpload,onAfterDelete,onPreview}=props,_id=id||"rc-image-upload";return(0,react.useEffect)((()=>{const upload=document.querySelector(`#${id}`),_preview=e=>{onPreview&&onPreview(e)},_uploadChange=e=>{onUploadChange&&onUploadChange(e)},_afterUpload=e=>{onAfterUpload&&onAfterUpload(e)},_afterDelete=e=>{onAfterDelete&&onAfterDelete(e)};return upload&&(upload.addEventListener("onPreview",_preview),upload.addEventListener("uploadChange",_uploadChange),upload.addEventListener("afterUpload",_afterUpload),upload.addEventListener("afterDelete",_afterDelete)),()=>{upload.removeEventListener("onPreview",_preview),upload.removeEventListener("uploadChange",_uploadChange),upload.removeEventListener("afterUpload",_afterUpload),upload.removeEventListener("afterDelete",_afterDelete)}}),[]),(0,jsx_runtime.jsx)("image-upload",{id:_id,width,height,"picture-width":pictureWidth,"prevent-preview":preventPreview,"picture-height":pictureHeight,action,multiple,"list-type":listType,"max-count":maxCount,accept,"file-list":JSON.stringify(fileList||[])})};RcImageUpload.displayName="RcImageUpload";const src_RcImageUpload=RcImageUpload;try{RcImageUpload.displayName="RcImageUpload",RcImageUpload.__docgenInfo={description:"",displayName:"RcImageUpload",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string | number"}},pictureWidth:{defaultValue:null,description:"",name:"pictureWidth",required:!1,type:{name:"string | number"}},pictureHeight:{defaultValue:null,description:"",name:"pictureHeight",required:!1,type:{name:"string | number"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"string"}},listType:{defaultValue:null,description:"",name:"listType",required:!1,type:{name:"enum",value:[{value:'"picture-card"'},{value:'"picture"'}]}},multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}},accept:{defaultValue:null,description:"",name:"accept",required:!1,type:{name:"string"}},maxCount:{defaultValue:null,description:"",name:"maxCount",required:!1,type:{name:"number"}},fileList:{defaultValue:null,description:"",name:"fileList",required:!1,type:{name:"FileItem[]"}},preventPreview:{defaultValue:null,description:"",name:"preventPreview",required:!1,type:{name:"boolean"}},onPreview:{defaultValue:null,description:"",name:"onPreview",required:!1,type:{name:"(e: FileItem) => void"}},onUploadChange:{defaultValue:null,description:"",name:"onUploadChange",required:!1,type:{name:"(e: AfterUpload) => void"}},onAfterUpload:{defaultValue:null,description:"",name:"onAfterUpload",required:!1,type:{name:"(e: AfterUpload) => void"}},onAfterDelete:{defaultValue:null,description:"",name:"onAfterDelete",required:!1,type:{name:"(e: AfterUpload) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/rc-image-upload/src/RcImageUpload.tsx#RcImageUpload"]={docgenInfo:RcImageUpload.__docgenInfo,name:"RcImageUpload",path:"packages/rc-image-upload/src/RcImageUpload.tsx#RcImageUpload"})}catch(__react_docgen_typescript_loader_error){}var blocks_dist=__webpack_require__("./node_modules/.pnpm/@storybook+blocks@7.2.1_sfoxds7t5ydpegc3knd667wn6m/node_modules/@storybook/blocks/dist/index.mjs");const RcImageUpload_stories={title:"Example/RcImageUpload",component:src_RcImageUpload,parameters:{layout:"centered",docs:{page:Story=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(blocks_dist.UG,{children:"# rc-image-upload\n\n> 图片上传，截图上传插件，支持点击上传、截图粘贴上传、拖拽上传 \n\n[在线demo](https://ligaopeng123-npm.github.io/web-components-repo/?path=/story/example-rcimageupload--props) \n\n![demo.png](https://github.com/ligaopeng123-npm/web-components-repo/blob/main/packages/image-upload/__tests__/demo.png?raw=true)\n\n## Usage\n\n```typescript\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport RcImageUpload from '../src';\n\n/*\ntype FileItem = {\n\tname: string,\n\turl: string,\n}\n// 可配置参数\ntype RcImageUploadProps = {\n    id: string;\n    width?: string | number;\n    height?: string | number;\n    pictureWidth?: string | number; // 图片宽高\n    pictureHeight?: string | number;\n    action?: string; // 上传的路径\n    listType?: 'picture-card' | 'picture';\n    multiple?: boolean; // 是否支持多选\n    accept?: string; // 支持类型 默认.png,.jpg,.jpeg\n    maxCount?: number; // 最大上传个数\n    fileList?: FileItem[]; // 上传列表\n    preventPreview?: boolean; // 阻止默认预览\n    onPreview?: (e: FileItem) => void; // 预览事件\n    onUploadChange?: (e: UploadEvent) => void; // 上传事件\n    onAfterUpload?: (e: UploadEvent) => void; // 上传后事件\n    onAfterDelete?: (e: UploadEvent) => void; // 删除后事件\n};*/\n\nconst App = () => {\n    const uploadChange = (e: any) => {\n        console.log(e)\n    }\n    const onPreview = (e: FileItem)=> {\n        console.log(e);\n    }\n    return (\n        <RcImageUpload\n                id={`test`} height={600} width={400} pictureHeight={64} pictureWidth={64}\n                fileList={[]}\n                maxCount={4}\n\t\t\t\tpreventPreview={true}\n                onPreview={onPreview}\n                onUploadChange={uploadChange}\n                onAfterUpload={uploadChange}\n                onAfterDelete={uploadChange}\n            />\n    );\n};\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n```\n\n"})})}},tags:["autodocs"],argTypes:{}},props={args:{}};props.parameters={...props.parameters,docs:{...props.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...props.parameters?.docs?.source}}};const __namedExportsOrder=["props"]},"./packages/image-upload/dist/image-upload.cjs.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var t=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.types@1.1.10/node_modules/@gaopeng123/utils.types/dist/utils.types.esm.js"),e=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.object@1.1.11/node_modules/@gaopeng123/utils.object/dist/utils.object.esm.js"),n=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.file@1.1.12-alpha.1/node_modules/@gaopeng123/utils.file/dist/utils.file.esm.js"),i=__webpack_require__("./packages/message/dist/index.js");function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key))?r:String(r),i)}var r}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,n){return(c=a()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&s(r,n.prototype),r}).apply(null,arguments)}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return c(t,arguments,o(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,t)})(t)}var u=function(t){return null==t?void 0:t.classList.contains("picture-item")},p=function(t){return(""+t).endsWith("%")||(""+t).endsWith("px")?t:t+"px"},d=function(t){window.open().document.write('<iframe src="'+t+'" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>')},h=function(o){var a,c;function l(){var e;return(e=o.call(this)||this).shadow=null,e.qmsg=null,e.__config={width:"100%",height:200,"prevent-preview":!1,"picture-width":48,"picture-height":48,action:"","list-type":"picture",accept:".png,.jpg,.jpeg",multiple:!0,"max-count":Number.MAX_SAFE_INTEGER,"file-list":[]},e.onInput=function(t){e.targetText.innerText="光标选中后“Ctrl + V”粘贴图片"},e.__fileList=[],e.getFileList=function(){return e.fileList},e.previewProcessing=function(t,n,i){e.insertPicture(t,n),e.fileList.push(n),e.uploadFetch(n,i),e.config.action||e.dispatchEvent(new CustomEvent("uploadChange",{detail:{file:n,fileList:e.fileList}}))},e.uploadFetch=function(n,i){if(e.config.action){var r=new FormData;r.append("file",n),fetch(e.config.action,{method:"post",body:r}).then((function(t){return t.json()})).then((function(r){var o=e.fileList[t.isUndefined(i)?e.fileList.length-1:i];o&&(o.response=r),e.dispatchEvent(new CustomEvent("afterUpload",{detail:{response:r,fileList:e.fileList}})),e.dispatchEvent(new CustomEvent("uploadChange",{detail:{file:n,fileList:e.fileList}}))}))}},e.onMouseover=function(){e.imageUploadTarget.focus()},e.onPaste=function(t){if(t.preventDefault(),!e.isMax(1)){var i,r=t.clipboardData||window.clipboardData,o=null==r||null==(i=r.items[0])?void 0:i.getAsFile();if(o){if((o?1:-1)<0)return;n.blob2Base64(o).then((function(t){e.previewProcessing(t,o,void 0)}))}else console.warn("粘贴板上不是图片！"),e.qmsg.warning("粘贴板上不是图片！")}},e.getPreviewImageFormTarget=function(t){return(t.querySelector("img")||t).getAttribute("src")},e.onPictureClick=function(i){if(u(i.target)||(null==(a=i.target)?void 0:a.classList.contains("picture-img"))){var r=e.getPreviewImageFormTarget(i.target);d(r)}else if(function(t){return null==t?void 0:t.classList.contains("del-icon")}(i.target))e.removePicture(i.target);else if(function(t){return null==t?void 0:t.classList.contains("preview-icon")}(i.target)){var o=e.getPreviewPicture(i.target);if(o){var s=function(n){var i;(t.isString(i=e.config["prevent-preview"])?"true"===i:i)||d(n.url),e.dispatchEvent(new CustomEvent("onPreview",{detail:{file:n,fileList:e.fileList}}))};t.isFile(o)?n.blob2Base64(o).then((function(t){s({url:t,name:o.name})})):s(o)}}var a},e.onUploadClick=function(t){t.stopPropagation(),e.uploadInput.click()},e.onUploadChange=function(t){t.preventDefault(),t.stopPropagation();var i=t.target.files||t.dataTransfer.files;if(!e.isMax(i.length)){for(var r=[],o=0;o<i.length;o++)-1!==i[o].type.indexOf("image")?r.push(n.blob2Base64(i[o])):e.qmsg.info("仅支持上传图片，非图片类型已被禁止！");Promise.all(r).then((function(t){var n=e.fileList.length;t.forEach((function(t,r){e.previewProcessing(t,i[r],n+r)}))}))}},e.insertPicture=function(t,n){e.imageUploadList&&e.imageUploadList.appendChild(function(t,e,n){var i=e["list-type"],r=e["picture-width"],o=e["picture-height"],s=document.createElement("div");s.classList.add("picture-item");var a=(null==n?void 0:n.name)||t||"";s.setAttribute("title",a);var c='\n            <img class="picture-img" width="'+p(r)+'" height="'+p(o)+'" alt="图片" src="'+t+'"/>\n            '+("picture"===i?'<span class="picture-item-title" style="width: calc(100% - '+(Number(r)+46)+'px)">'+a+"</span>":"")+'\n            <span class="bth-icon">\n                <img title="预览" class="preview-icon" width="18" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAArpJREFUWEftlkFS20AQRV9beB1uEG6As0ylEPIJYk5AOAFmmdhUTMVOlvgGcU6AOQHGKSrLiBOE3MBskeVOjbBcaDSyZW+oVDELLUY93X9+/+4e4ZmXPHN8XgD8fwx8+6U7ccSuCDVVto2GRJioEk5jrjt1mayjq9IMfB1rQ+EQaKwIMFQYtH25LANkJYDejdY05lwgKOMwtVEYeVWOPr6Vu2XnlgLoXWsH4fM6gXO2Qqe1J2dFPpwAOle6XfX4XoLustgGUcyJSx85AEnwClcINZd3hVsgFCVDrQo1UQKEV05UShjNqNsgMgCWBVf44VXprMrpXKxNYD8HxAEiA6A31pF9UOGveDRa7yRMHc6BHlJhuyi/3bE2Bc4dbAxbvhyk+wsAvWvtIxxnDij3bBE4gv9G2DG2LV8KhVwIQjlr7Usn6SHm8+WnBhXlykHZwjD9Z1eGwMEnX4ZFauyO9U7gde6/xxtzsQSAi3qzPxPqp3ti0rJYOdtHMfZFCB9ibm2ROZkFTJ9o+1JPAHTHapDs2ihLAXhyyGlf0EtMNbV9qSUA5sq9sAG46F2S1/toxo7NQHesQ4H3Rb4XAnIZpjQ9PWwqYMtjZDOmcNL2pf/U1gyuWcQfO7jCZduXZKYsABQ5BgYtX45sJ4lwZwQqTLwqQ7s/JMEfuLAbmqF+GhOkTGX7wI3WmDLKdTMlVKFTZsIlPWKLY53RFHkc14vlKOtcDZvp5wRhlKtMRBKAoZn/FUhmvyo105RUCQqnpiN4JgV27uIII55cZRTV+7J9Q7tXpeFq44VdbK6Jvjw+QjZeZoZMY5pFL6WVDxIjNlEMkLXYMLdWoWk3Mkc5lrtcb6wfFBqums7qjEsBM3AGZTyvZMB2YspLo+RBat4LqcqNOEOpEq4a1xszUOY2m9iszcAmQZadeQHw7Az8A2N4PjAAfKnfAAAAAElFTkSuQmCC"/>\n                <img title="删除" class="del-icon" width="16" height="16" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjQzMjUzMTkxNDA2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIwNDMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMzQxLjMxMiA4NS4zMTJsNjQtODUuMzEyaDIxMy4zNzZsNjQgODUuMzEySDk2MHY4NS4zNzZINjRWODUuMzEyaDI3Ny4zMTJ6TTE3MC42ODggMjU2aDY4Mi42MjR2NzY4SDE3MC42ODhWMjU2ek0yNTYgMzQxLjMxMnY1OTcuMzc2aDUxMlYzNDEuMzEySDI1NnogbTIxMy4zMTIgODUuMzc2djQyNi42MjRIMzg0VjQyNi42ODhoODUuMzEyeiBtMTcwLjY4OCAwdjQyNi42MjRINTU0LjY4OFY0MjYuNjg4SDY0MHoiIGZpbGw9IiNkODFlMDYiIHAtaWQ9IjIwNDQiPjwvcGF0aD48L3N2Zz4="/>\n            </span>\n        ';return s.innerHTML=c,s}(t,e.config,n))},e.shadow=e.attachShadow({mode:"closed"}),e.qmsg=i.initMsg(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e.qmsg.config({showClose:!0}),e}c=o,(a=l).prototype=Object.create(c.prototype),a.prototype.constructor=a,s(a,c);var h,f,g,v=l.prototype;return v.connectedCallback=function(){var t,e,n,i,r,o,s,a;this.shadow.innerHTML=(n=(t=this.config).height,i=t.accept,r=t.multiple,o=t["list-type"],s=t["picture-width"],a=t["picture-height"],"\n\t\t\t<style>\n                .screenshot-upload {\n                    position: relative;\n                    display: flex;\n                    width: "+p(e=t.width)+";\n\t\t\t\t    height: "+p(n)+";\n                    background: #fafafa;\n                    border: 1px dashed #d9d9d9;\n                    border-radius: 2px;\n                }\n\t\t\t\t.target {\n\t\t\t\t    width: "+p(e)+";\n\t\t\t\t    height: "+p(n)+";\n\t\t\t\t    font-size: 14px;\n\t\t\t\t    border-radius: 2px;\n\t\t\t\t    caret-color: #07f1ab;\n\t\t\t\t    caret-shape: block;\n\t\t\t\t    position: absolute;\n\t\t\t\t}\n\t\t\t\t.target:focus {\n\t\t\t\t    outline: 1px dashed #07f1ab;\n\t\t\t\t    border-color: transparent;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.target > span {\n                    line-height: 60px;\n                    font-size: 16px;\n                    margin-left: 16px;\n                    position: absolute;\n                    user-select: none;\n                    -webkit-user-select: none;\n                    -moz-user-select: none;\n                    -ms-user-select: none;\n                    pointer-events: none;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.target-text {\n\t\t\t\t     user-select: none;\n                    -webkit-user-select: none;\n                    -moz-user-select: none;\n                    -ms-user-select: none;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#screenshot-upload-list {\n                    user-select: none;\n                    -webkit-user-select: none;\n                    -moz-user-select: none;\n                    -ms-user-select: none;\n\t\t\t\t    display: flex;\n\t\t\t\t    margin-top: 60px;\n\t\t\t\t    z-index: 1;\n\t\t\t\t    width: 100%;\n\t\t\t\t    height: calc(100% - 60px);\n                    overflow-y: auto;\n                    overflow-x: hidden;\n                    flex-flow: "+("picture-card"===o?"row":"wrap")+' wrap;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* 设置滚动条的样式 */\n                #screenshot-upload-list::-webkit-scrollbar {\n                    width: 4px;\n                    height: 4px;\n                }\n                /* 滚动槽 */\n                #screenshot-upload-list::-webkit-scrollbar-track {\n                    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.2);\n                    border-radius: 4px;\n                }\n                /* 滚动条滑块 */\n                #screenshot-upload-list::-webkit-scrollbar-thumb {\n                    border-radius: 4px;\n                    background: #bbb;\n                    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.25);\n                }\n\t\t\t\t/* 展示类型 */\n\t\t\t\t.picture {\n\t\t\t\t    flex-direction: column;\n\t\t\t\t}\n\t\t\t\t.picture-item {\n\t\t\t\t    margin: 0px;\n\t\t\t\t    width: 100%;\n\t\t\t\t    cursor: pointer;\n\t\t\t\t    display: flex;\n\t\t\t\t    align-items: center;\n\t\t\t\t}\n\t\t\t\t.picture > .picture-item {\n\t\t\t\t    border-top: 1px solid #d9d9d9;\n\t\t\t\t}\n\t\t\t\t.picture > .picture-item > .bth-icon {\n\t\t\t\t    margin-right: 16px;\n\t\t\t\t    margin-left: auto;\n\t\t\t\t    display: flex;\n\t\t\t\t}\n\t\t\t\t.picture-card > .picture-item > .bth-icon {\n\t\t\t\t    position: absolute;\n                    top: calc(50% - 8px);\n                    left: calc(50% - 16px);\n                    opacity: 0;\n                    display: flex;\n                    align-items: center;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.picture-item > .bth-icon > .del-icon {\n\t\t\t\t    margin-left: 12px;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.picture-card > .picture-item > .bth-icon > .preview-icon {\n\t\t\t\t    height: 20px;\n\t\t\t\t    width: 20px;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.picture-card > .picture-item:before {\n\t\t\t\t    position: absolute;\n                    z-index: 1;\n                    width: 100%;\n                    height: 100%;\n                    background-color: #00000080;\n                    opacity: 0;\n                    transition: all .3s;\n                    content: " ";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.picture-card > .picture-item:hover:before {\n\t\t\t\t    opacity: 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.picture-card > .picture-item:hover > .bth-icon {\n\t\t\t\t    opacity: 1;\n\t\t\t\t    z-index: 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.picture-card > .picture-item {\n\t\t\t\t    border: 1px solid #d9d9d9;\n\t\t\t\t    width: '+p(s)+";\n\t\t\t\t    height: "+p(a)+';\n\t\t\t\t    position: relative;\n\t\t\t\t    margin: 0px 4px 4px 0px;\n\t\t\t\t}\n\t\t\t\t/*展示类型2*/\n\t\t\t\t.picture-card {\n\t\t\t\t    flex-direction: row;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#screenshot-upload-bth {\n\t\t\t\t    position: absolute;\n\t\t\t\t    right: 16px;\n                    top: 16px;\n                    user-select: none;\n                    -webkit-user-select: none;\n                    -moz-user-select: none;\n                    -ms-user-select: none;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#upload-bth {\n\t\t\t\t    cursor: pointer;\n\t\t\t\t    opacity: .8;\n\t\t\t\t}\n\n                #upload-bth:hover {\n\t\t\t\t    opacity: 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.picture-item-title {\n\t\t\t\t    width: calc(100% - 100px);\n\t\t\t\t    margin-left: 12px;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t</style>\n\t\t\t<div id="image-upload" class="screenshot-upload">\n\t\t\t    <div id="screenshot-upload-target" class="target" \n\t\t\t         readonly="true" contenteditable="true">\n\t\t\t         <span class="target-text">\n\t\t\t             光标选中后“Ctrl + V”粘贴图片\n                     </span>\n                    </div>\n\t\t\t    <div id="screenshot-upload-bth">\n\t\t\t        <input \n\t\t\t            style="display: none" \n\t\t\t            id="screenshot-upload-input" \n\t\t\t            type="file" \n\t\t\t            accept="'+i+'" \n\t\t\t            name="file" \n\t\t\t            '+(r?"multiple":"")+'\n\t\t\t            />\n\t\t\t            <span><img title="点击上传" id="upload-bth"\n\t\t\t             width="24" height="24" alt="上传" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAcRJREFUWEftlt9twjAQxn0Oj0hlg4Y3iC2VDcoIdIN0gzIB7QTtBrBBGaFMUB4S4I10glKJR+KrHDmSCX/sGEtVJfKY5O775bu7+IA4XlEUxZTSVxkuhBguFouJSypwCVLiYz1WCPHoAlEb4Jh4CeICUQvgnLgrhDWAjbgLhBVAHfG6EEaAbrc7CILg3aVZ8zx/WC6X03OxRgDO+TchpFXteErpwRRU7xFCZkmS9C8F2BBCbqrWcs5RT5wkCVRLZTMVRgeiKOpRSj+kWJ7ncWnpMQD5Due8j4hPiDi1+S8YAU7Zdwqgbq/8PYCsGwCMJDkivtjYpqw+6AGbr1clkmdIS+oBY2wNAKECyNI0bVsmcgJgjH0CQK/UA9da+oq7Alwd+L8OMMbmAHCnxukrTdNilE1XdXoucUD+89/UUvpsOnZLMG8Api+1PUOcHbgC+HRgb+PZ7Xbt1WqVuQqci+t0OmGj0Vjr78gekNvOvXZzKoSQx/LcJ4QUD4JgBACxlnd2sMf5FDXlQsRhsREdccEU6+N5sTEXAGEYtprNptzf9VL4EDmVY7bdbgdZlm32dkK1VseIGALArWeCH0LIXAgx0de+X/IwP0q6D41SAAAAAElFTkSuQmCC"/></span>\n                </div>\n\t\t\t    <div id="screenshot-upload-list" class="'+o+'"></div>\n            </div>\n\t\t\t'),this.addEvent()},v.disconnectedCallback=function(){this.removeEvent()},v.attributeChangedCallback=function(t,e,n){e!==n&&(this.__config[t]=n,"file-list"===t&&this.renderFileList())},v.addEvent=function(){this.addMouseoverEvent(),this.addPasteEvent(),this.addPictureClick(),this.addUploadClick(),this.addUploadChange(),this.addDragEvent(),this.addEnterEvent()},v.removeEvent=function(){this.removeMouseoverEvent(),this.removePasteEvent(),this.removePictureClick(),this.removeUploadClick(),this.removeUploadChange(),this.removeDragEvent(),this.removeEnterEvent()},v.addEnterEvent=function(){this.imageUploadTarget.addEventListener("input",this.onInput)},v.removeEnterEvent=function(){this.imageUploadTarget.removeEventListener("input",this.onInput)},v.addDragEvent=function(){this.imageUpload.addEventListener("dragover",(function(t){t.preventDefault(),t.stopPropagation()}),!1),this.imageUpload.addEventListener("drop",this.onUploadChange,!1)},v.removeDragEvent=function(){this.imageUpload.removeEventListener("drop",this.onUploadChange,!1)},v.renderFileList=function(){var e=this,n=t.isString(this.config["file-list"])?JSON.parse(this.config["file-list"]):this.config["file-list"];this.fileList=n,this.fileList.forEach((function(t){e.insertPicture(t.url||t,t)}))},v.isMax=function(t){return void 0===t&&(t=0),this.fileList.length+t>this.maxCount&&(this.qmsg.info("上传图片不能多于"+this.maxCount+"张"),!0)},v.addPasteEvent=function(){this.imageUploadTarget.addEventListener("paste",this.onPaste)},v.removePasteEvent=function(){this.imageUploadTarget.removeEventListener("paste",this.onPaste)},v.addMouseoverEvent=function(){this.imageUpload.addEventListener("mouseenter",this.onMouseover)},v.removeMouseoverEvent=function(){this.imageUpload.removeEventListener("mouseenter",this.onMouseover)},v.addPictureClick=function(){this.imageUploadList.addEventListener("click",this.onPictureClick)},v.removePictureClick=function(){this.imageUploadList.removeEventListener("click",this.onPictureClick)},v.addUploadClick=function(){this.uploadBth.addEventListener("click",this.onUploadClick)},v.removeUploadClick=function(){this.uploadBth.removeEventListener("click",this.onUploadClick)},v.addUploadChange=function(){this.uploadInput.addEventListener("change",this.onUploadChange)},v.removeUploadChange=function(){this.uploadInput.removeEventListener("change",this.onUploadChange)},v.getPreviewPicture=function(t){for(var e=this.findRemovePicture(t),n=this.imageUploadList.querySelectorAll(".picture-item"),i=0;i<n.length;i++)if(e===n[i])return this.fileList[i]},v.removePicture=function(t){for(var e,n=this.findRemovePicture(t),i=this.imageUploadList.querySelectorAll(".picture-item"),r=0;r<i.length;r++)n===i[r]&&(e=this.fileList.splice(r,1));this.imageUploadList.removeChild(n),this.dispatchEvent(new CustomEvent("afterDelete",{detail:{file:e,fileList:this.fileList}})),this.dispatchEvent(new CustomEvent("uploadChange",{detail:{file:null,fileList:this.fileList}}))},v.findRemovePicture=function(t){return e.parentByExpected(t,(function(t){return u(t)}))},h=l,g=[{key:"observedAttributes",get:function(){return["width","height","picture-width","picture-height","list-type","accept","multiple","action","prevent-preview","max-count","file-list"]}}],(f=[{key:"config",get:function(){return this.__config}},{key:"maxCount",get:function(){return Number(this.config["max-count"])}},{key:"fileList",get:function(){return this.__fileList},set:function(t){this.__fileList=t}},{key:"targetText",get:function(){return this.shadow.querySelector(".target-text")}},{key:"imageUpload",get:function(){return this.shadow.querySelector("#image-upload")}},{key:"imageUploadTarget",get:function(){return this.shadow.querySelector("#screenshot-upload-target")}},{key:"imageUploadList",get:function(){return this.shadow.querySelector("#screenshot-upload-list")}},{key:"uploadBth",get:function(){return this.shadow.querySelector("#upload-bth")}},{key:"uploadInput",get:function(){return this.shadow.querySelector("#screenshot-upload-input")}}])&&r(h.prototype,f),g&&r(h,g),Object.defineProperty(h,"prototype",{writable:!1}),l}(l(HTMLElement));customElements.get("image-upload")||customElements.define("image-upload",h)},"./packages/image-upload/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{__webpack_require__("./packages/image-upload/dist/image-upload.cjs.production.min.js")},"./packages/message/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./packages/message/dist/message.cjs.production.min.js")},"./packages/message/dist/message.cjs.production.min.js":(__unused_webpack_module,exports)=>{var n=function(n){!function(){if(!document.querySelector("#qmsg-message-css")){var n=document.createElement("style");n.id="qmsg-message-css",n.innerHTML='\n    .qmsg.qmsg-wrapper{\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    color: rgba(0, 0, 0, .55);\n    font-size: 13px;\n    font-variant: tabular-nums;\n    line-height: 1;\n    list-style: none;\n    font-feature-settings: "tnum";\n    position: fixed;\n    top: 16px;\n    left: 0;\n    z-index: 1010;\n    width: 100%;\n    pointer-events: none;\n}\n.qmsg .qmsg-item{\n    padding: 8px;\n    text-align: center;\n    -webkit-animation-duration: .3s;\n    animation-duration: .3s;\n    position: relative;\n}\n.qmsg .qmsg-item .qmsg-count{\n    position: absolute;\n    left: -4px;\n    top: -4px;\n    background-color: red;\n    color: #fff;\n    font-size: 12px;\n    line-height: 16px;\n    border-radius: 2px;\n    display: inline-block;\n    min-width: 16px;\n    height: 16px;\n    -webkit-animation-duration: .3s;\n    animation-duration: .3s;\n}\n.qmsg .qmsg-item:first-child{\n    margin-top: -8px;\n}\n.qmsg .qmsg-content{\n    position: relative;\n    display: inline-block;\n    padding: 10px 16px;\n    background: #fff;\n    border-radius: 4px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, .15);\n    pointer-events: all;\n    /* min-width: 175px; */\n}\n.qmsg .qmsg-content .qmsg-content-with-close{\n    padding-right: 20px;\n}\n.qmsg .qmsg-icon{\n    display: inline-block;\n    color: inherit;\n    font-style: normal;\n    line-height: 0;\n    text-align: center;\n    text-transform: none;\n    vertical-align: -.125em;\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    position: relative;\n    top: 1px;\n    margin-right: 8px;\n    font-size: 16px;\n}\n.qmsg .qmsg-icon svg{\n    display: inline-block;\n}\n\n.qmsg .qmsg-content-info .qmsg-icon{\n    color: #1890ff;\n    user-select: none;\n}\n.qmsg .qmsg-icon-close{\n    position: absolute;\n    top: 11px;\n    right: 5px;\n    padding: 0;\n    overflow: hidden;\n    font-size: 12px;\n    line-height: 22px;\n    background-color: transparent;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    color: rgba(0, 0, 0, .45);\n    transition: color .3s\n}\n.qmsg .qmsg-icon-close:hover>svg path{\n    stroke: #555;\n}\n.qmsg .animate-turn{\n    animation:MessageTurn 1s linear infinite;  \n    -webkit-animation: MessageTurn 1s linear infinite;\n}\n@keyframes MessageTurn{\n    0%{-webkit-transform:rotate(0deg);}\n    25%{-webkit-transform:rotate(90deg);}\n    50%{-webkit-transform:rotate(180deg);}\n    75%{-webkit-transform:rotate(270deg);}\n    100%{-webkit-transform:rotate(360deg);}\n}\n@-webkit-keyframes MessageTurn{\n    0%{-webkit-transform:rotate(0deg);}\n    25%{-webkit-transform:rotate(90deg);}\n    50%{-webkit-transform:rotate(180deg);}\n    75%{-webkit-transform:rotate(270deg);}\n    100%{-webkit-transform:rotate(360deg);}\n}\n\n@-webkit-keyframes MessageMoveOut {\n    0% {\n        max-height: 150px;\n        padding: 8px;\n        opacity: 1\n    }\n\n    to {\n        max-height: 0;\n        padding: 0;\n        opacity: 0\n    }\n}\n\n@keyframes MessageMoveOut {\n    0% {\n        max-height: 150px;\n        padding: 8px;\n        opacity: 1\n    }\n\n    to {\n        max-height: 0;\n        padding: 0;\n        opacity: 0\n    }\n}\n\n\n@-webkit-keyframes MessageMoveIn {\n    \n    0% {\n        transform: translateY(-100%);\n        transform-origin: 0 0;\n        opacity: 0\n    }\n\n    to {\n        transform: translateY(0);\n        transform-origin: 0 0;\n        opacity: 1\n    }\n}\n\n@keyframes MessageMoveIn {\n    0% {\n        transform: translateY(-100%);\n        transform-origin: 0 0;\n        opacity: 0\n    }\n\n    to {\n        transform: translateY(0);\n        transform-origin: 0 0;\n        opacity: 1\n    }\n}\n@-webkit-keyframes MessageShake {\n    0%,\n    100% {\n      transform: translateX(0px);\n      opacity: 1;\n    }\n  \n    25%,\n    75% {\n        transform: translateX(-4px);\n      opacity: 0.75;\n    }\n  \n    50% {\n        transform: translateX(4px);\n        opacity: 0.25;\n    }\n  }\n@keyframes MessageShake {\n    0%,\n    100% {\n      transform: translateX(0px);\n      opacity: 1;\n    }\n  \n    25%,\n    75% {\n        transform: translateX(-4px);\n      opacity: 0.75;\n    }\n  \n    50% {\n        transform: translateX(4px);\n        opacity: 0.25;\n    }\n  }   \n',document.head.appendChild(n)}}();var t,e=n&&n.QMSG_GLOBALS&&n.QMSG_GLOBALS.NAMESPACE||"qmsg",i={opening:"MessageMoveIn",done:"",closing:"MessageMoveOut"},o=Object.assign({type:"info",showClose:!1,timeout:3500,animation:!0,autoClose:!0,content:"",onClose:null,maxNums:5,html:!1},n&&n.QMSG_GLOBALS&&n.QMSG_GLOBALS.DEFAULTS),s={info:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M24 44C29.5228 44 34.5228 41.7614 38.1421 38.1421C41.7614 34.5228 44 29.5228 44 24C44 18.4772 41.7614 13.4772 38.1421 9.85786C34.5228 6.23858 29.5228 4 24 4C18.4772 4 13.4772 6.23858 9.85786 9.85786C6.23858 13.4772 4 18.4772 4 24C4 29.5228 6.23858 34.5228 9.85786 38.1421C13.4772 41.7614 18.4772 44 24 44Z" fill="#1890ff" stroke="#1890ff" stroke-width="4" stroke-linejoin="round"/><path fill-rule="evenodd" clip-rule="evenodd" d="M24 11C25.3807 11 26.5 12.1193 26.5 13.5C26.5 14.8807 25.3807 16 24 16C22.6193 16 21.5 14.8807 21.5 13.5C21.5 12.1193 22.6193 11 24 11Z" fill="#FFF"/><path d="M24.5 34V20H23.5H22.5" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 34H28" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',warning:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M24 44C29.5228 44 34.5228 41.7614 38.1421 38.1421C41.7614 34.5228 44 29.5228 44 24C44 18.4772 41.7614 13.4772 38.1421 9.85786C34.5228 6.23858 29.5228 4 24 4C18.4772 4 13.4772 6.23858 9.85786 9.85786C6.23858 13.4772 4 18.4772 4 24C4 29.5228 6.23858 34.5228 9.85786 38.1421C13.4772 41.7614 18.4772 44 24 44Z" fill="#faad14" stroke="#faad14" stroke-width="4" stroke-linejoin="round"/><path fill-rule="evenodd" clip-rule="evenodd" d="M24 37C25.3807 37 26.5 35.8807 26.5 34.5C26.5 33.1193 25.3807 32 24 32C22.6193 32 21.5 33.1193 21.5 34.5C21.5 35.8807 22.6193 37 24 37Z" fill="#FFF"/><path d="M24 12V28" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',error:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z" fill="#f5222d" stroke="#f5222d" stroke-width="4" stroke-linejoin="round"/><path d="M29.6569 18.3431L18.3432 29.6568" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M18.3432 18.3431L29.6569 29.6568" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',success:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M24 4L29.2533 7.83204L35.7557 7.81966L37.7533 14.0077L43.0211 17.8197L41 24L43.0211 30.1803L37.7533 33.9923L35.7557 40.1803L29.2533 40.168L24 44L18.7467 40.168L12.2443 40.1803L10.2467 33.9923L4.97887 30.1803L7 24L4.97887 17.8197L10.2467 14.0077L12.2443 7.81966L18.7467 7.83204L24 4Z" fill="#52c41a" stroke="#52c41a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M17 24L22 29L32 19" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',loading:'<svg class="animate-turn" width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M4 24C4 35.0457 12.9543 44 24 44V44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4" stroke="#1890ff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M36 24C36 17.3726 30.6274 12 24 12C17.3726 12 12 17.3726 12 24C12 30.6274 17.3726 36 24 36V36" stroke="#1890ff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',close:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M14 14L34 34" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 34L34 14" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'},r=void 0!==(t=document.createElement("div").style).animationName||void 0!==t.WebkitAnimationName||void 0!==t.MozAnimationName||void 0!==t.msAnimationName||void 0!==t.OAnimationName;function a(){for(var n=e,t=0;t<arguments.length;++t)n+="-"+(t<0||arguments.length<=t?void 0:arguments[t]);return n}function l(n){var t=this;t.settings=Object.assign({},o,n||{}),t.id=g.instanceCount;var r=t.settings.timeout;r=r&&parseInt(r)>=0&parseInt(r)<=Math.NEGATIVE_INFINITY?parseInt(r):o.timeout,t.timeout=r,t.settings.timeout=r,t.timer=null;var l=document.createElement("div"),d=s[t.settings.type||"info"],m=a("content-"+t.settings.type||0);m+=t.settings.showClose?" "+a("content-with-close"):"";var h=t.settings.content||"",p=t.settings.showClose?'<i class="qmsg-icon qmsg-icon-close">'+s.close+"</i>":"",u=document.createElement("span");t.settings.html?u.innerHTML=t.settings.html:u.innerText=h,l.innerHTML='<div class="qmsg-content">            <div class="'+m+'">                <i class="qmsg-icon">'+d+"</i>"+u.outerHTML+p+"</div>    </div>",l.classList.add(a("item"));var f=document.querySelector("."+e);f||((f=document.createElement("div")).classList.add(e,a("wrapper"),a("is-initialized")),document.body.appendChild(f)),f.appendChild(l),t.$wrapper=f,t.$elem=l,c(t,"opening"),t.settings.showClose&&l.querySelector(".qmsg-icon-close").addEventListener("click",function(){t.close()}.bind(l)),l.addEventListener("animationend",function(n){var t=n.target;n.animationName==i.closing&&(clearInterval(this.timer),this.destroy()),t.style.animationName="",t.style.webkitAnimationName=""}.bind(t)),t.settings.autoClose&&(t.timer=setInterval(function(){this.timeout-=10,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(t),10),t.$elem.addEventListener("mouseover",function(){clearInterval(this.timer)}.bind(t)),t.$elem.addEventListener("mouseout",function(){"closing"!=this.state&&(this.timer=setInterval(function(){this.timeout-=10,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(t),10))}.bind(t)))}function c(n,t){t&&i[t]&&(n.state=t,n.$elem.style.animationName=i[t])}function d(n,t){var e=Object.assign({},o);return 0===arguments.length?e:n instanceof Object?Object.assign(e,n):(e.content=n.toString(),t instanceof Object?Object.assign(e,t):e)}function m(n){n=n||{};var t,e=JSON.stringify(n),i=-1;for(var s in this.oMsgs){var r=this.oMsgs[s];if(r.config==e){i=s,t=r.inst;break}}if(i<0){this.instanceCount++;var c={};c.id=this.instanceCount,c.config=e,(t=new l(n)).id=this.instanceCount,t.count="",c.inst=t,this.oMsgs[this.instanceCount]=c;var d=this.oMsgs.length,m=this.maxNums;if(d>m)for(var g=0,h=this.oMsgs;g<d-m;g++)h[g]&&h[g].inst.settings.autoClose&&h[g].inst.close()}else t.count=t.count?t.count+1:2,function(n){var t=a("count"),e=n.$elem.querySelector("."+a("content")),i=e.querySelector("."+t);i||((i=document.createElement("span")).classList.add(t),e.appendChild(i)),i.innerHTML=n.count,i.style.animationName="",i.style.animationName="MessageShake",n.timeout=n.settings.timeout||o.timeout}(t);return t.$elem.setAttribute("data-count",t.count),t}l.prototype.destroy=function(){this.$elem.parentNode&&this.$elem.parentNode.removeChild(this.$elem),clearInterval(this.timer),g.remove(this.id)},l.prototype.close=function(){c(this,"closing"),r?g.remove(this.id):this.destroy();var n=this.settings.onClose;n&&n instanceof Function&&n.call(this)};var g={version:"0.0.1",instanceCount:0,oMsgs:[],maxNums:o.maxNums||5,config:function(n){o=n&&n instanceof Object?Object.assign(o,n):o,this.maxNums=o.maxNums&&o.maxNums>0?parseInt(o.maxNums):3},info:function(n,t){var e=d(n,t);return e.type="info",m.call(this,e)},warning:function(n,t){var e=d(n,t);return e.type="warning",m.call(this,e)},success:function(n,t){var e=d(n,t);return e.type="success",m.call(this,e)},error:function(n,t){var e=d(n,t);return e.type="error",m.call(this,e)},loading:function(n,t){var e=d(n,t);return e.type="loading",e.autoClose=!1,m.call(this,e)},remove:function(n){this.oMsgs[n]&&delete this.oMsgs[n]},closeAll:function(){for(var n in this.oMsgs)this.oMsgs[n]&&this.oMsgs[n].inst.close()}};return g};exports.initMessage=n,exports.initMsg=n}}]);