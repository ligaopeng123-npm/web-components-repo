"use strict";(self.webpackChunkweb_components_repo=self.webpackChunkweb_components_repo||[]).push([[908],{"./stories/RcCardEllipsis.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>RcCardEllipsis_stories,props:()=>props});var react=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),utils_string_esm=(__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.types@1.1.10/node_modules/@gaopeng123/utils.types/dist/utils.types.esm.js"),__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.file@1.1.11/node_modules/@gaopeng123/utils.file/dist/utils.file.esm.js"),__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.array@1.1.7/node_modules/@gaopeng123/utils.array/dist/utils.array.esm.js"),__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.string@1.1.11/node_modules/@gaopeng123/utils.string/dist/utils.string.esm.js")),jsx_runtime=(__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.object@1.1.11/node_modules/@gaopeng123/utils.object/dist/utils.object.esm.js"),__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.function@1.1.11/node_modules/@gaopeng123/utils.function/dist/utils.function.esm.js"),__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.date@1.1.7/node_modules/@gaopeng123/utils.date/dist/utils.date.esm.js"),__webpack_require__("./packages/card-ellipsis/dist/index.js"),__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"));const RcCardEllipsis=props=>{const[id]=(0,react.useState)("card-ellipsis"+(0,utils_string_esm.uuid)(16));return(0,react.useEffect)((()=>{const card=document.querySelector(`#${id}`),onChange=e=>{const detail=e.detail;props.onChange&&props.onChange(detail)};return card?.addEventListener("onChange",onChange),()=>{card?.removeEventListener("onChange",onChange)}}),[]),(0,jsx_runtime.jsx)("card-ellipsis",{mode:props.mode,id,"min-height":props.minHeight,children:(0,jsx_runtime.jsx)("div",{slot:"content",children:props.children})})};RcCardEllipsis.displayName="RcCardEllipsis";const src_RcCardEllipsis=RcCardEllipsis;try{RcCardEllipsis.displayName="RcCardEllipsis",RcCardEllipsis.__docgenInfo={description:"",displayName:"RcCardEllipsis",props:{minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"number"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"simple"'},{value:'"complex"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(v: RcCardEllipsisChangeValue) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/rc-card-ellipsis/src/RcCardEllipsis.tsx#RcCardEllipsis"]={docgenInfo:RcCardEllipsis.__docgenInfo,name:"RcCardEllipsis",path:"packages/rc-card-ellipsis/src/RcCardEllipsis.tsx#RcCardEllipsis"})}catch(__react_docgen_typescript_loader_error){}var blocks_dist=__webpack_require__("./node_modules/.pnpm/@storybook+blocks@7.2.1_sfoxds7t5ydpegc3knd667wn6m/node_modules/@storybook/blocks/dist/index.mjs");const RcCardEllipsis_stories={title:"Example/RcCardEllipsis",component:src_RcCardEllipsis,parameters:{layout:"centered",docs:{page:Story=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(blocks_dist.UG,{children:"# RcCardEllipsis\n\n`卡片展开和收起 ` [在线demo](https://ligaopeng123-npm.github.io/web-components-repo/?path=/docs/example-rccardellipsis--props)  \n\n## Usage\n\n```tsx\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { RcCardEllipsis } from \"../src\";\n\nconst App = () => {\n    return (\n        <RcCardEllipsis onChange={(e)=> {\n            console.log(e);\n        }} minHeight={100} mode=\"simple\">\n            12<br/>\n            12<br/>\n            12<br/>\n            12<br/>\n            12<br/>\n            12<br/>\n            12<br/>\n        </RcCardEllipsis>\n    );\n};\n\nReactDOM.render(<App/>, document.getElementById('root'));\n```\n\n"})})}},tags:["autodocs"],argTypes:{}},props={args:{minHeight:120,children:(0,jsx_runtime.jsx)("div",{id:"value1",style:{height:200,width:"100%",background:"red"},children:"我是要展开的card"})}};props.parameters={...props.parameters,docs:{...props.parameters?.docs,source:{originalSource:"{\n  args: {\n    minHeight: 120,\n    children: <div id={'value1'} style={{\n      height: 200,\n      width: '100%',\n      background: 'red'\n    }}>\n            我是要展开的card\n        </div>\n  }\n}",...props.parameters?.docs?.source}}};const __namedExportsOrder=["props"]},"./packages/card-ellipsis/dist/card-ellipsis.cjs.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var e=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils@1.1.10/node_modules/@gaopeng123/utils/dist/utils.esm.js");function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,"symbol"==typeof(r=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key))?r:String(r),o)}var r}function t(e){return(t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,n){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function i(e,n,t){return(i=r()?Reflect.construct.bind():function(e,n,t){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return t&&o(i,t.prototype),i}).apply(null,arguments)}function s(e){var n="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return i(e,arguments,t(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)})(e)}var a=function(n){var t=e.addBoxSizeUnit(n["min-height"]);return"\n        <style>\n        .container {\n            position: relative;\n            width: calc(100% - 2px);\n        }\n\n        .body {\n            overflow: hidden;\n            width: 100%;\n            border: 1px solid transparent;\n            transition: all .3s;\n        }\n\n        .body-expand {\n            position: absolute;\n            background: var(--background-color, #fff);\n            z-index: 1;\n        }\n\n        .body-collapse {\n\n        }\n        \n        .body-collapse > .body-more {\n            position: absolute;\n            background-image: linear-gradient(-180deg, rgba(255, 255, 255, 0) 0%, #fff 100%);\n            height: "+(parseInt(t)-60>30?60:parseInt(t)/2)+"px;\n        }\n        \n        .body-expand > .body-more {\n            \n        }\n\n        .body-more {\n            bottom: 0px;\n            text-align: center;\n            width: 100%;\n            cursor: pointer;\n            display: flex;\n            justify-content: center;\n            align-items: flex-end;\n            font-size: 14px;\n            color: var(--text-color, #1677ff);\n        }\n\n        .hover {\n            border: 1px solid var(--border-color, rgba(0, 0, 0, .09));\n            box-shadow: 0 2px 8px var(--border-color, rgba(0, 0, 0, .09));\n            transition: all .3s;\n        }\n\n        .body-collapse > .body-more::after {\n            content: var(--expand-text, '更多');\n            background: var(--expand-image, '');\n            background-size: cover;\n            position: relative;\n            top: 4px;\n            min-height: 22px;\n            min-width: 22px;\n        }\n\n        .body-expand > .body-more::after {\n            content: var(--collapse-text, '收起');\n            background: var(--collapse-image, '');\n            background-size: cover;\n            position: relative;\n            top: 4px;\n            min-height: 22px;\n            min-width: 22px;\n        }\n        </style>\n        <div class=\"container\" style=\"height: "+t+';">\n            <div style="height: '+t+';"  class="body body-collapse">\n                <slot name="content"></slot>\n                <div class="body-more"></div>\n            </div>\n        </div>\n    '},c=function(t){var r,i;function s(){var n;return(n=t.call(this)||this).shadow=null,n.__config={"min-height":100,mode:"complex"},n.timmer=null,n.render=function(){clearTimeout(n.timmer),n.timmer=setTimeout((function(){n.destroy(),n.shadow.innerHTML=a(n.config),n.init()}),10)},n.init=function(){n.bodyMore.addEventListener("click",n.moreClick),n.bodyMore.addEventListener("mouseenter",n.onmouseenter),n.bodyMore.addEventListener("mouseleave",n.onmouseleave),n._slot.addEventListener("slotchange",n.onslotchange),n.addObserver()},n.destroy=function(){n.bodyMore.removeEventListener("click",n.moreClick),n.bodyMore.removeEventListener("mouseenter",n.onmouseenter),n.bodyMore.removeEventListener("mouseleave",n.onmouseleave),n._slot.removeEventListener("slotchange",n.onslotchange),n.observer.disconnect()},n.addObserver=function(){var e=n.querySelector('[slot="content"]');n.observer=new MutationObserver((function(e){console.log("dom 变化啦！"),n.domChange()})),n.observer.observe(e,{attributes:!1,childList:!0,subtree:!1})},n.moreClick=function(){var t=n.body,o=t.style;t.classList.contains("body-expand")?(t.classList.remove("body-expand"),t.classList.add("body-collapse"),o.setProperty("height",e.addBoxSizeUnit(n.config["min-height"]))):(t.classList.remove("body-collapse"),t.classList.add("body-expand"),n.setBodyMaxHeight()),n.dispatchEvent(new CustomEvent("onChange",{detail:{expand:t.classList.contains("body-expand")}}))},n.onmouseenter=function(){n.body.classList.add("hover")},n.onmouseleave=function(){n.body.classList.remove("hover")},n.onslotchange=function(e){console.log("onslotchange")},n.domChange=function(){n.body.classList.contains("body-expand")&&n.setBodyMaxHeight()},n.shadow=n.attachShadow({mode:"open"}),n.shadow.innerHTML=a(n.config),n}i=t,(r=s).prototype=Object.create(i.prototype),r.prototype.constructor=r,o(r,i);var c,l,d,u=s.prototype;return u.connectedCallback=function(){this.init()},u.disconnectedCallback=function(){this.destroy()},u.attributeChangedCallback=function(e,n,t){n!==t&&(this.__config[e]=t),this.render()},u.setBodyMaxHeight=function(){this.body.style.setProperty("height","complex"===this.config.mode?"auto":e.addBoxSizeUnit(this.maxHeight))},c=s,d=[{key:"observedAttributes",get:function(){return["min-height","mode"]}}],(l=[{key:"config",get:function(){return this.__config}},{key:"bodyMore",get:function(){return this.shadow.querySelector(".body-more")}},{key:"_slot",get:function(){return this.shadow.querySelector("slot")}},{key:"body",get:function(){return this.shadow.querySelector(".body")}},{key:"maxHeight",get:function(){return this.querySelector('[slot="content"]').scrollHeight+this.bodyMore.scrollHeight}}])&&n(c.prototype,l),d&&n(c,d),Object.defineProperty(c,"prototype",{writable:!1}),s}(s(HTMLElement));customElements.get("card-ellipsis")||customElements.define("card-ellipsis",c)},"./packages/card-ellipsis/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{__webpack_require__("./packages/card-ellipsis/dist/card-ellipsis.cjs.production.min.js")}}]);