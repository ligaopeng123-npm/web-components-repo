(self.webpackChunkweb_components_repo=self.webpackChunkweb_components_repo||[]).push([[265],{"./node_modules/.pnpm/@gaopeng123+utils@1.1.16/node_modules/@gaopeng123/utils/dist/utils.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZdH:()=>_gaopeng123_utils_string__WEBPACK_IMPORTED_MODULE_3__.Zd,b07:()=>_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.b0,pS9:()=>_gaopeng123_utils_file__WEBPACK_IMPORTED_MODULE_1__.pS,sg1:()=>_gaopeng123_utils_function__WEBPACK_IMPORTED_MODULE_5__.sg,up$:()=>_gaopeng123_utils_string__WEBPACK_IMPORTED_MODULE_3__.up,vfA:()=>_gaopeng123_utils_string__WEBPACK_IMPORTED_MODULE_3__.vf});var _gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.types@1.1.16-alpha.4/node_modules/@gaopeng123/utils.types/dist/utils.types.esm.js"),_gaopeng123_utils_file__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.file@1.1.16/node_modules/@gaopeng123/utils.file/dist/utils.file.esm.js"),_gaopeng123_utils_string__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.array@1.1.16-alpha.4/node_modules/@gaopeng123/utils.array/dist/utils.array.esm.js"),__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.string@1.1.16/node_modules/@gaopeng123/utils.string/dist/utils.string.esm.js")),_gaopeng123_utils_function__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.object@1.1.16/node_modules/@gaopeng123/utils.object/dist/utils.object.esm.js"),__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.function@1.1.16/node_modules/@gaopeng123/utils.function/dist/utils.function.esm.js"));__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.date@1.1.16-alpha.4/node_modules/@gaopeng123/utils.date/dist/utils.date.esm.js"),__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.number@1.1.16-alpha.4/node_modules/@gaopeng123/utils.number/dist/utils.number.esm.js"),__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.log@1.1.16-alpha.4/node_modules/@gaopeng123/utils.log/dist/utils.log.esm.js")},"./stories/MatrixBg.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>MatrixBg_stories,props:()=>props});var utils_esm=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils@1.1.16/node_modules/@gaopeng123/utils/dist/utils.esm.js");class MatrixBg extends HTMLElement{shadow=null;__config={backgroundColor:"#000000",textColor:"#00ff00"};get config(){return this.__config}get matrix(){return this.shadow.querySelector("#matrix")}get ctx(){return this.matrix.getContext("2d")}get font_size(){return 16}drops=[];txts="0123456789abcdefghigklmgopqrstuvwxyz".split("");constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadow.innerHTML=(this.config,'\n        <style>.container {\n  background-color: #000000;\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n}\n.container #matrix {\n  position: absolute;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n}</style>\n        <div class="container">\n            <canvas id="matrix"></canvas>\n            <slot name="content"></slot>\n        <div\n    ')}connectedCallback(){this.init(),this.begin()}disconnectedCallback(){this.destroy()}static get observedAttributes(){return["background-color","text-color"]}attributeChangedCallback(name,oldValue,newValue){oldValue!==newValue&&(this.__config[(0,utils_esm.ZdH)(name)]=newValue)}destroy=()=>{clearTimeout(this.resizeTimmer),clearTimeout(this.requestAnimationFrameTimmer),window.removeEventListener("resize",this.onResize)};init=()=>{const container=this.shadow.querySelector(".container");this.matrix.height=container.offsetHeight,this.matrix.width=container.offsetWidth;const columns=this.matrix.width/this.font_size,begin=this.drops.length;if(begin<columns)for(let x=begin;x<columns;x++)this.drops[x]=Math.floor(10*Math.random());else this.drops.splice(columns,begin-columns);begin&&(this.ctx.beginPath(),this.ctx.fillStyle=(0,utils_esm.vfA)(this.config.backgroundColor,.7),this.ctx.fillRect(0,0,this.matrix.width,this.matrix.height),this.ctx.stroke())};draw=()=>{const ctx=this.ctx,c=this.matrix,drops=this.drops,font_size=this.font_size,txts=this.txts;ctx.beginPath(),ctx.fillStyle=(0,utils_esm.vfA)(this.config.backgroundColor,.1),ctx.fillRect(0,0,c.width,c.height),ctx.stroke(),ctx.beginPath(),ctx.fillStyle=this.config.textColor,ctx.font=font_size+"px arial";for(let i=0;i<drops.length;i++){const text=txts[Math.floor(Math.random()*txts.length)];ctx.fillText(text,i*font_size,drops[i]*font_size),(drops[i]*font_size>c.height||Math.random()>.95)&&(drops[i]=0),drops[i]++}ctx.stroke(),this.loop()};begin=()=>{requestAnimationFrame((()=>this.draw())),window.addEventListener("resize",this.onResize)};loop=()=>{clearTimeout(this.requestAnimationFrameTimmer),this.requestAnimationFrameTimmer=setTimeout((()=>{requestAnimationFrame((()=>{const requestIdleCallback=window.requestIdleCallback;requestIdleCallback?requestIdleCallback((()=>{this.draw()})):this.draw()}))}),16.6*3)};onResize=()=>{clearTimeout(this.resizeTimmer),clearTimeout(this.requestAnimationFrameTimmer),this.resizeTimmer=setTimeout((()=>{this.init(),this.loop()}),100)}}const MatrixBgComponent=MatrixBg;customElements.get("matrix-bg")||customElements.define("matrix-bg",MatrixBg);var dist=__webpack_require__("./node_modules/.pnpm/@storybook+blocks@7.6.19_sfoxds7t5ydpegc3knd667wn6m/node_modules/@storybook/blocks/dist/index.mjs");var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");const MatrixBg_stories={title:"Example/MatrixBg",component:MatrixBgComponent,parameters:{layout:"centered",docs:{page:Story=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(dist.oz,{children:'# matrix-bg\n\n`黑客帝国背景图`[在线demo](https://ligaopeng123-npm.github.io/web-components-repo/?path=/story/example-matrixbg--props)  \n\n## Usage\n\n```html\n<div style="width: 100vw;height: 100vh;">\n  <matrix-bg></matrix-bg>\n</div>\n```\n\n'})})}},tags:["autodocs"],argTypes:{"text-color":{type:"color",presetColors:["#00ff00","#b7eb8f"]},"background-color":{type:"color",presetColors:["#000000","#ffffff"]}}},props={args:{"text-color":"#00ff00","background-color":"#000000"},render:props=>(0,jsx_runtime.jsx)("div",{style:{height:"100vh",width:"100vw",margin:0},children:(0,jsx_runtime.jsx)("matrix-bg",{...props})})};props.parameters={...props.parameters,docs:{...props.parameters?.docs,source:{originalSource:"{\n  args: {\n    'text-color': \"#00ff00\",\n    'background-color': \"#000000\"\n  },\n  render: props => {\n    // props = args\n    return <div style={{\n      height: '100vh',\n      width: '100vw',\n      margin: 0\n    }}>\n            <matrix-bg {...props}></matrix-bg>\n        </div>;\n  }\n}",...props.parameters?.docs?.source}}};const __namedExportsOrder=["props"]},"./node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive",module.exports=webpackEmptyContext}}]);