/*! For license information please see MatrixBg-stories.f37e81b8.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkweb_components_repo=self.webpackChunkweb_components_repo||[]).push([[265],{"./stories/MatrixBg.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>MatrixBg_stories,props:()=>props});class MatrixBg extends HTMLElement{shadow=null;__config={backgroundColor:"#000000",textColor:"#00ff00"};get config(){return this.__config}get matrix(){return this.shadow.querySelector("#matrix")}get ctx(){return this.matrix.getContext("2d")}get font_size(){return 16}drops=[];txts="0123456789abcdefghigklmgopqrstuvwxyz".split("");constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadow.innerHTML=(this.config,'\n        <style>.container {\n  background-color: #000000;\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n}\n.container #matrix {\n  position: absolute;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n}</style>\n        <div class="container">\n            <canvas id="matrix"></canvas>\n            <slot name="content"></slot>\n        <div\n    ')}connectedCallback(){this.init(),this.begin()}disconnectedCallback(){this.destroy()}static get observedAttributes(){return["background-color","text-color"]}attributeChangedCallback(name,oldValue,newValue){}destroy=()=>{clearTimeout(this.resizeTimmer),clearTimeout(this.requestAnimationFrameTimmer),window.removeEventListener("resize",this.onResize)};init=()=>{const container=this.shadow.querySelector(".container");this.matrix.height=container.offsetHeight,this.matrix.width=container.offsetWidth;const columns=this.matrix.width/this.font_size,begin=this.drops.length;if(begin<columns)for(let x=begin;x<columns;x++)this.drops[x]=Math.floor(10*Math.random());else this.drops.splice(columns,begin-columns);begin&&(this.ctx.beginPath(),this.ctx.fillStyle="rgba(0, 0, 0, 0.7)",this.ctx.fillRect(0,0,this.matrix.width,this.matrix.height),this.ctx.stroke())};draw=()=>{const ctx=this.ctx,c=this.matrix,drops=this.drops,font_size=this.font_size,txts=this.txts;ctx.beginPath(),ctx.fillStyle="rgba(0, 0, 0, 0.1)",ctx.fillRect(0,0,c.width,c.height),ctx.stroke(),ctx.beginPath(),ctx.fillStyle="#0F0",ctx.font=font_size+"px arial";for(let i=0;i<drops.length;i++){const text=txts[Math.floor(Math.random()*txts.length)];ctx.fillText(text,i*font_size,drops[i]*font_size),(drops[i]*font_size>c.height||Math.random()>.95)&&(drops[i]=0),drops[i]++}ctx.stroke(),this.loop()};begin=()=>{requestAnimationFrame((()=>this.draw())),window.addEventListener("resize",this.onResize)};loop=()=>{this.requestAnimationFrameTimmer=setTimeout((()=>{requestAnimationFrame((()=>this.draw()))}),32)};onResize=()=>{clearTimeout(this.resizeTimmer),clearTimeout(this.requestAnimationFrameTimmer),this.resizeTimmer=setTimeout((()=>{this.init(),this.loop()}),50)}}const MatrixBgComponent=MatrixBg;customElements.get("matrix-bg")||customElements.define("matrix-bg",MatrixBg);var dist=__webpack_require__("./node_modules/.pnpm/@storybook+blocks@7.6.19_sfoxds7t5ydpegc3knd667wn6m/node_modules/@storybook/blocks/dist/index.mjs");var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");const MatrixBg_stories={title:"Example/MatrixBg",component:MatrixBgComponent,parameters:{layout:"centered",docs:{page:Story=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(dist.oz,{children:'# matrix-bg\n\n`黑客帝国背景图`[在线demo](https://ligaopeng123-npm.github.io/web-components-repo/?path=/story/example-matrixbg--props)  \n\n## Usage\n\n```html\n<div style="width: 100vw;height: 100vh;">\n  <matrix-bg></matrix-bg>\n</div>\n```\n\n'})})}},tags:["autodocs"],argTypes:{}},props={args:{},render:props=>(0,jsx_runtime.jsx)("div",{style:{height:"100vh",width:"100vw",margin:0},children:(0,jsx_runtime.jsx)("matrix-bg",{})})};props.parameters={...props.parameters,docs:{...props.parameters?.docs,source:{originalSource:"{\n  args: {\n    // 'height': 300,\n    // 'width': 200,\n    // 'type': 'x'\n  },\n  render: props => {\n    // props = args\n    return <div style={{\n      height: '100vh',\n      width: '100vw',\n      margin: 0\n    }}>\n            <matrix-bg></matrix-bg>\n        </div>;\n  }\n}",...props.parameters?.docs?.source}}};const __namedExportsOrder=["props"]},"./node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive",module.exports=webpackEmptyContext},"./node_modules/.pnpm/react@17.0.2/node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/.pnpm/object-assign@4.1.1/node_modules/object-assign/index.js");var f=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);